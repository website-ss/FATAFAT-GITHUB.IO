
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FATAFAT JOBS - Your Ultimate Government Update Portal</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
            color: #334155;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .header-bg {
            background-image: linear-gradient(135deg, rgba(79, 70, 229, 0.95) 0%, rgba(124, 58, 237, 0.9) 100%), url('https://www.transparenttextures.com/patterns/subtle-prism.png');
            background-size: cover;
            background-position: center;
        }
        .main-heading { font-family: 'Poppins', sans-serif; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .sub-heading { font-family: 'Poppins', sans-serif; font-weight: 400; }
        .section-card {
            background-color: #ffffff;
            border-radius: 1.25rem;
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
            border: 1px solid #e2e8f0;
        }
        .section-card:hover { transform: translateY(-8px); }
        .section-title { font-family: 'Poppins', sans-serif; color: #4f46e5; font-weight: 700; border-bottom: 3px solid #a5b4fc; padding-bottom: 0.75rem; margin-bottom: 1.5rem; display: flex; align-items: center; }
        .section-title svg { color: #6366f1; margin-right: 0.75rem; }
        .link-item { 
            background-color: #f8fafc; 
            border-radius: 0.75rem; 
            transition: all 0.2s ease-in-out; 
            border-left: 5px solid #818cf8; 
            padding: 1rem; 
            margin-bottom: 0.75rem;
        }
        .link-item:hover { transform: translateY(-3px); }
        .link-item-button { color: #4338ca; font-weight: 600; text-decoration: none; flex-grow: 1; text-align: left; background: none; border: none; cursor: pointer; }
        .link-item-button:hover { text-decoration: underline; }
        .new-badge { background-color: #ef4444; color: #ffffff; font-size: 0.75rem; font-weight: 700; padding: 0.25rem 0.6rem; border-radius: 0.5rem; margin-left: 0.75rem; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        footer { background-color: #1e293b; color: #cbd5e1; font-family: 'Poppins', sans-serif; }
        footer a:hover { color: #bfdbfe; }
        #searchInput { font-family: 'Inter', sans-serif; }
        .coming-soon-item { border-left-color: #f59e0b; }
        
        .highlight-section {
            background: #ffffff;
            border-radius: 1rem;
            padding: 1.25rem;
            margin-top: -2rem;
            position: relative;
            box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.2);
            border: 1px solid #e2e8f0;
        }
        .highlight-title {
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
            color: #3730a3;
            text-shadow: 1px 1px 0px #a5b4fc, 2px 2px 0px rgba(0,0,0,0.1);
        }
        .highlight-item {
            background-color: #f1f5f9;
            border-radius: 0.75rem;
            padding: 1rem;
            transition: all 0.3s ease;
        }
        .highlight-item:hover {
            transform: scale(1.03);
        }
        
        .details-panel {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .detail-heading { font-family: 'Poppins', sans-serif; font-weight: 700; color: #4f46e5; margin-top: 1.5rem; margin-bottom: 0.75rem; border-bottom: 2px solid #eef2ff; padding-bottom: 0.5rem; }
        .detail-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
        .detail-item { background: #f1f5f9; padding: 0.75rem; border-radius: 0.5rem; }
        .detail-item strong { color: #4338ca; }
    </style>
</head>
<body oncontextmenu="return false;">

    <!-- Header -->
    <header class="header-bg text-white shadow-lg py-6 pb-12">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div>
                <div class="flex items-center text-3xl md:text-4xl font-extrabold main-heading">
                    <i class="fas fa-rocket mr-3"></i>
                    <span>FATAFAT JOBS</span>
                </div>
                <p class="mt-1 text-sm sub-heading opacity-90" data-key="subtitle">‡§∏‡§¨‡§∏‡•á ‡§§‡•á‡§ú ‡§Ö‡§™‡§°‡•á‡§ü üöÄ</p>
            </div>
            <div class="relative">
                <select id="language-selector" class="bg-white bg-opacity-20 text-white font-bold py-2 pl-4 pr-10 rounded-full appearance-none focus:outline-none cursor-pointer">
                    <option value="en" class="text-black">English</option>
                    <option value="hi" class="text-black">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                </select>
                <i class="fas fa-globe absolute right-4 top-1/2 -translate-y-1/2 text-white opacity-80 pointer-events-none"></i>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4">
        
        <section id="highlight-section" class="highlight-section mb-8">
            <h2 class="text-xl md:text-2xl font-bold text-center mb-4 highlight-title" data-key="highlights_title">Important Updates</h2>
            <div id="highlight-list" class="grid grid-cols-1 md:grid-cols-3 gap-4"></div>
        </section>

        <div id="state-filter-container" class="bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-lg mb-6 flex flex-col sm:flex-row items-center gap-4">
            <label for="state-selector" class="font-bold flex-grow" data-key="state_select_label">Showing updates for:</label>
            <select id="state-selector" class="bg-white border border-gray-300 rounded-lg p-2 w-full sm:w-auto">
                <option value="All India">All India</option>
            </select>
        </div>

        <div class="mb-8 relative">
            <input type="text" id="searchInput" class="w-full p-4 pl-12 text-lg border-2 border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" data-key-placeholder="search_placeholder">
            <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-xl"></i>
        </div>

        <section class="section-card mb-8">
            <h2 class="section-title"><i class="fas fa-user-check w-8 h-8 text-green-500"></i><span data-key="eligibility_checker_title">AI Eligibility Checker ‚ú®</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label for="user-education" class="block mb-2 font-semibold" data-key="education_label">Your Education</label>
                    <input type="text" id="user-education" class="w-full p-2 border rounded-lg bg-slate-50" data-key-placeholder="education_placeholder">
                </div>
                <div>
                    <label for="user-age" class="block mb-2 font-semibold" data-key="age_label">Your Age</label>
                    <input type="number" id="user-age" class="w-full p-2 border rounded-lg bg-slate-50" data-key-placeholder="age_placeholder">
                </div>
                 <div>
                    <label for="user-state" class="block mb-2 font-semibold" data-key="state_label">Your State</label>
                    <select id="user-state" class="w-full p-2 border rounded-lg bg-slate-50"></select>
                </div>
            </div>
            <button id="check-eligibility-btn" class="mt-4 w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition duration-300 flex items-center justify-center">
                <span data-key="check_eligibility_btn">Check Eligibility</span>
            </button>
            <div id="eligibility-output-container" class="hidden mt-4">
                <h3 class="font-bold text-lg" data-key="eligibility_results_title">Eligibility Results:</h3>
                <div id="eligibility-loading" class="hidden text-center p-4">
                    <i class="fas fa-spinner fa-spin text-3xl text-green-500"></i>
                    <p class="mt-2" data-key="loading_text">Checking...</p>
                </div>
                <div id="eligibility-output" class="mt-2 p-4 bg-slate-100 rounded-lg border"></div>
            </div>
        </section>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <section id="coming-soon" class="section-card lg:col-span-full"><h2 class="section-title"><i class="fas fa-hourglass-half w-8 h-8 text-amber-500"></i><span data-key="coming_soon_title">Jald Aa Raha Hai (Coming Soon)</span></h2><div id="coming-soon-list" class="space-y-3"></div><p class="no-results-message hidden text-center py-4" data-key="no_results">No matching items found.</p></section>
            <section id="jobs" class="section-card"><h2 class="section-title"><i class="fas fa-briefcase w-8 h-8"></i><span data-key="jobs_title">Latest Job Updates</span></h2><div id="job-list" class="space-y-3"></div><p class="no-results-message hidden text-center py-4" data-key="no_results">No matching items found.</p></section>
            <section id="schemes" class="section-card"><h2 class="section-title"><i class="fas fa-landmark w-8 h-8"></i><span data-key="schemes_title">Government Schemes</span></h2><div id="scheme-list" class="space-y-3"></div><p class="no-results-message hidden text-center py-4" data-key="no_results">No matching items found.</p></section>
            <section id="results" class="section-card"><h2 class="section-title"><i class="fas fa-poll w-8 h-8"></i><span data-key="results_title">Latest Results</span></h2><div id="result-list" class="space-y-3"></div><p class="no-results-message hidden text-center py-4" data-key="no_results">No matching items found.</p></section>
            <section id="admit-cards" class="section-card"><h2 class="section-title"><i class="fas fa-id-card w-8 h-8"></i><span data-key="admit_cards_title">Admit Cards</span></h2><div id="admit-card-list" class="space-y-3"></div><p class="no-results-message hidden text-center py-4" data-key="no_results">No matching items found.</p></section>
            <section id="admission-notifications" class="section-card"><h2 class="section-title"><i class="fas fa-university w-8 h-8"></i><span data-key="admissions_title">Admission Notifications</span></h2><div id="admission-list" class="space-y-3"></div><p class="no-results-message hidden text-slate-500 text-center py-4" data-key="no_results">No matching items found.</p></section>
            <section id="scholarship-notifications" class="section-card"><h2 class="section-title"><i class="fas fa-graduation-cap w-8 h-8"></i><span data-key="scholarships_title">Scholarship Notifications</span></h2><div id="scholarship-list" class="space-y-3"></div><p class="no-results-message hidden text-slate-500 text-center py-4" data-key="no_results">No matching items found.</p></section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer mt-12 py-8"><div class="container mx-auto px-4 text-center"><p class="font-semibold" data-key="copyright">&copy; 2024 FATAFAT JOBS. All Rights Reserved.</p><p class="mt-2 text-slate-400 text-sm" data-key="designed_for">Designed for Public Information</p><div class="flex justify-center space-x-6 mt-4 text-2xl"><a href="https://www.instagram.com/ASHISH_RAJ_AAHISH" target="_blank" class="text-slate-400 hover:text-white transition"><i class="fab fa-instagram"></i></a><a href="https://t.me/ASHISH_RAJ_AAHISH" target="_blank" class="text-slate-400 hover:text-white transition"><i class="fab fa-telegram-plane"></i></a><a href="https://www.facebook.com/ASHISH_RAJ_AAHISH" target="_blank" class="text-slate-400 hover:text-white transition"><i class="fab fa-facebook"></i></a></div><p class="mt-4 text-sm text-slate-500">Contact: <a href="mailto:ashishyadav62064c@gmail.com" class="hover:text-white">ashishyadav62064c@gmail.com</a></p></div></footer>
    
    <script>
        // --- GLOBAL STATE & CONSTANTS ---
        let userState = "All India";
        let currentLang = 'en';
        const sections = {'jobs': 'job-list', 'schemes': 'scheme-list', 'results': 'result-list', 'admit-cards': 'admit-card-list', 'admissions': 'admission-list', 'scholarships': 'scholarship-list'};
        const indianStates = ["Andhra Pradesh", "Arunachal Pradesh", "Assam", "Bihar", "Chhattisgarh", "Goa", "Gujarat", "Haryana", "Himachal Pradesh", "Jharkhand", "Karnataka", "Kerala", "Madhya Pradesh", "Maharashtra", "Manipur", "Meghalaya", "Mizoram", "Nagaland", "Odisha", "Punjab", "Rajasthan", "Sikkim", "Tamil Nadu", "Telangana", "Tripura", "Uttar Pradesh", "Uttarakhand", "West Bengal", "Andaman and Nicobar Islands", "Chandigarh", "Dadra and Nagar Haveli and Daman and Diu", "Delhi", "Jammu and Kashmir", "Ladakh", "Lakshadweep", "Puducherry"];

        // --- UI ELEMENTS ---
        const languageSelector = document.getElementById('language-selector');
        const stateSelector = document.getElementById('state-selector');
        const searchInput = document.getElementById('searchInput');
        const userEducationInput = document.getElementById('user-education');
        const userAgeInput = document.getElementById('user-age');
        const userStateInput = document.getElementById('user-state');
        const checkEligibilityBtn = document.getElementById('check-eligibility-btn');
        const eligibilityOutputContainer = document.getElementById('eligibility-output-container');
        const eligibilityLoading = document.getElementById('eligibility-loading');
        const eligibilityOutput = document.getElementById('eligibility-output');
        
        // --- TRANSLATION DATA ---
        const translations = {
            en: {
                title: "FATAFAT JOBS",
                subtitle: "The Fastest Updates üöÄ",
                state_select_label: "Showing updates for:",
                jobs_title: "Latest Job Updates", schemes_title: "Government Schemes", results_title: "Latest Results",
                admit_cards_title: "Admit Cards", admissions_title: "Admission Notifications", scholarships_title: "Scholarship Notifications",
                coming_soon_title: "Coming Soon",
                highlights_title: "Important Updates",
                no_updates: "No updates available for this state.",
                search_placeholder: "Search for jobs, schemes, results...",
                no_results: "No matching items found.",
                copyright: "¬© 2024 FATAFAT JOBS. All Rights Reserved.",
                designed_for: "Designed for Public Information",
                view_details: "View Details",
                hide_details: "Hide Details",
                eligibility_checker_title: "AI Eligibility Checker ‚ú®",
                education_label: "Your Education",
                education_placeholder: "e.g., 12th Pass, Graduate",
                age_label: "Your Age",
                age_placeholder: "e.g., 25",
                state_label: "Your State",
                check_eligibility_btn: "Check Eligibility",
                eligibility_results_title: "Eligibility Results:",
                checking_eligibility: "Checking...",
                error_checking_eligibility: "Sorry, could not check eligibility. Please try again.",
                share_on_whatsapp: "Share on WhatsApp"
            },
            hi: {
                title: "‡§´‡§ü‡§æ‡§´‡§ü ‡§ú‡•â‡§¨‡•ç‡§∏",
                subtitle: "‡§∏‡§¨‡§∏‡•á ‡§§‡•á‡§ú ‡§Ö‡§™‡§°‡•á‡§ü üöÄ",
                state_select_label: "‡§á‡§®‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§°‡•á‡§ü‡•ç‡§∏:",
                jobs_title: "‡§®‡§µ‡•Ä‡§®‡§§‡§Æ ‡§ú‡•â‡§¨ ‡§Ö‡§™‡§°‡•á‡§ü‡•ç‡§∏", schemes_title: "‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç", results_title: "‡§®‡§µ‡•Ä‡§®‡§§‡§Æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ",
                admit_cards_title: "‡§è‡§°‡§Æ‡§ø‡§ü ‡§ï‡§æ‡§∞‡•ç‡§°", admissions_title: "‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§∏‡•Ç‡§ö‡§®‡§æ‡§è‡§Ç", scholarships_title: "‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø ‡§∏‡•Ç‡§ö‡§®‡§æ‡§è‡§Ç",
                coming_soon_title: "‡§ú‡§≤‡•ç‡§¶ ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à",
                highlights_title: "‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Ö‡§™‡§°‡•á‡§ü‡•ç‡§∏",
                no_updates: "‡§á‡§∏ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§Ö‡§™‡§°‡•á‡§ü ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§",
                search_placeholder: "‡§ú‡•â‡§¨‡•ç‡§∏, ‡§∏‡•ç‡§ï‡•Ä‡§Æ‡•ç‡§∏, ‡§∞‡§ø‡§ú‡§≤‡•ç‡§ü‡•ç‡§∏ ‡§ñ‡•ã‡§ú‡•á‡§Ç...",
                no_results: "‡§ï‡•ã‡§à ‡§Æ‡•á‡§≤ ‡§ñ‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§Ü‡§á‡§ü‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§",
                copyright: "¬© 2024 ‡§´‡§ü‡§æ‡§´‡§ü ‡§ú‡•â‡§¨‡•ç‡§∏‡•§ ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§‡•§",
                designed_for: "‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ",
                view_details: "‡§µ‡§ø‡§µ‡§∞‡§£ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                hide_details: "‡§µ‡§ø‡§µ‡§∞‡§£ ‡§õ‡§ø‡§™‡§æ‡§è‡§Ç",
                eligibility_checker_title: "AI ‡§Ø‡•ã‡§ó‡•ç‡§Ø‡§§‡§æ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§ï ‚ú®",
                education_label: "‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ",
                education_placeholder: "‡§â‡§¶‡§æ., 12‡§µ‡•Ä‡§Ç ‡§™‡§æ‡§∏, ‡§∏‡•ç‡§®‡§æ‡§§‡§ï",
                age_label: "‡§Ü‡§™‡§ï‡•Ä ‡§â‡§Æ‡•ç‡§∞",
                age_placeholder: "‡§â‡§¶‡§æ., 25",
                state_label: "‡§Ü‡§™‡§ï‡§æ ‡§∞‡§æ‡§ú‡•ç‡§Ø",
                check_eligibility_btn: "‡§Ø‡•ã‡§ó‡•ç‡§Ø‡§§‡§æ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç",
                eligibility_results_title: "‡§Ø‡•ã‡§ó‡•ç‡§Ø‡§§‡§æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ:",
                checking_eligibility: "‡§ú‡§æ‡§Å‡§ö ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...",
                error_checking_eligibility: "‡§ï‡•ç‡§∑‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç, ‡§Ø‡•ã‡§ó‡•ç‡§Ø‡§§‡§æ ‡§ï‡•Ä ‡§ú‡§æ‡§Å‡§ö ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§∏‡§ï‡•Ä‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§",
                share_on_whatsapp: "‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§™‡§∞ ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç"
            }
        };

        // --- DATA YAHAN EDIT KAREN ---
        const allData = {
            highlights: [
                { category: 'jobs', id: 'bihar-si' },
                { category: 'jobs', id: 'ssc-cgl' },
                { category: 'admit-cards', id: 'bpsc-tre4' }
            ],
            jobs: [
                { id: 'bihar-si', title: "Bihar Police Sub Inspector (SI) Vacancy", url: "https://csbc.bih.nic.in/", qualification: "Graduate from any recognized university.", eligibility: "Age: 20-37 (Male), 20-40 (Female).", fees: "Gen/EBC/BC: ‚Çπ700, SC/ST: ‚Çπ400", state: "Bihar", isNew: true, tags: ['bihar', 'police', 'si', 'sub', 'inspector', 'vacancy', 'job', '2025'], details: {
                    description: "Recruitment for the post of Sub Inspector in Bihar Police. This is a prestigious post for graduates looking to serve in the police force.",
                    vacancies: [
                        { category: 'General (Unreserved)', posts: 441 },
                        { category: 'EWS', posts: 111 },
                        { category: 'EBC', posts: 238 },
                        { category: 'OBC', posts: 107 },
                        { category: 'BC Female', posts: 82 },
                        { category: 'SC', posts: 275 },
                        { category: 'ST', posts: 16 },
                        { category: 'Transgender', posts: 5 }
                    ],
                    physical: [
                        { standard: 'Height (Male)', requirement: '165 cm (Gen/BC), 160 cm (EBC/SC/ST)' },
                        { standard: 'Height (Female)', requirement: '155 cm (All categories)' },
                        { standard: 'Chest (Male)', requirement: '81-86 cm (Gen/BC/EBC), 79-84 cm (SC/ST)' },
                        { standard: 'Running (Male)', requirement: '1.6 km in 6 minutes 30 seconds' },
                        { standard: 'Running (Female)', requirement: '1 km in 6 minutes' },
                        { standard: 'High Jump', requirement: '4 feet (Male), 3 feet (Female)' },
                        { standard: 'Long Jump', requirement: '12 feet (Male), 9 feet (Female)' },
                    ],
                    dates: [
                        { event: 'Application Start', date: 'TBA' },
                        { event: 'Application End', date: 'TBA' },
                    ]
                }},
                { id: 'bpsc-ae', title: "BPSC Assistant Engineer (AE) Recruitment", url: "https://bpsc.bih.nic.in/", qualification: "B.E./B.Tech in relevant field", eligibility: "Age 21-37 years", fees: "Gen/OBC: ‚Çπ750, SC/ST/Female: ‚Çπ200", state: "Bihar", isNew: true, tags: ['bpsc', 'ae', 'assistant', 'engineer', 'recruitment', 'bihar', 'job', '2025'], details: { description: "Recruitment for Assistant Engineers in various departments of Bihar Government. Candidates must possess a degree in Civil/Mechanical/Electrical engineering." } },
                { id: 'up-constable', title: "UP Police Constable Recruitment", url: "http://uppbpb.gov.in/", qualification: "12th Pass", eligibility: "Age 18-22. Physical standards apply.", fees: "All Categories: ‚Çπ400", state: "Uttar Pradesh", isNew: true, tags: ['up', 'uttar pradesh', 'police', 'constable', 'recruitment', 'job', '2025'], details: { description: "Large scale recruitment for constables in Uttar Pradesh Police. Requires physical fitness and written exam qualification." } },
                { id: 'ssc-cgl', title: "SSC CGL 2024 Notification", url: "https://ssc.gov.in/", qualification: "Bachelor's Degree", eligibility: "Various Group B & C posts in central govt.", fees: "Gen/OBC: ‚Çπ100, SC/ST/Female: ‚Çπ0", state: "All India", isNew: false, tags: ['ssc', 'cgl', '2024', 'notification', 'job', 'all india'], details: { description: "Staff Selection Commission's Combined Graduate Level examination for posts like Assistant Audit Officer, Inspector, Sub-Inspector in various central government ministries and departments." } },
                { id: 'rrb-ntpc', title: "Railway RRB NTPC 2024", url: "https://www.rrbcdg.gov.in/", qualification: "12th Pass or Graduate", eligibility: "Varies by post (Clerk, TC, Guard etc.)", fees: "Gen: ‚Çπ500, SC/ST/EBC/Female: ‚Çπ250", state: "All India", isNew: false, tags: ['railway', 'rrb', 'ntpc', '2024', 'job', 'all india'], details: { description: "Recruitment for Non-Technical Popular Categories like Junior Clerk, Accounts Clerk, Goods Guard, Station Master etc. in Indian Railways." } },
                { id: 'ibps-clerk', title: "IBPS Clerk Recruitment 2024", url: "https://www.ibps.in/", qualification: "Graduate", eligibility: "Age 20-28. Computer literacy required.", fees: "Gen/OBC: ‚Çπ850, SC/ST/PWD: ‚Çπ175", state: "All India", isNew: true, tags: ['ibps', 'clerk', 'recruitment', '2024', 'bank', 'job', 'all india'], details: { description: "Common recruitment process for clerical cadre in various public sector banks across India." } },
            ],
            schemes: [
                { id: 'bihar-udyami', title: "Bihar Mukhyamantri Udyami Yojana", url: "https://udyami.bihar.gov.in/", qualification: "12th/ITI/Polytechnic/Diploma", eligibility: "SC/ST/EBC/Women/Youth of Bihar. Interest-free loan up to ‚Çπ10 Lakh.", fees: "N/A", state: "Bihar", isNew: true, tags: ['bihar', 'mukhyamantri', 'udyami', 'yojana', 'scheme', 'loan'], details: { description: "A scheme by the Bihar government to promote entrepreneurship among youth and women by providing financial assistance and subsidies for setting up new enterprises." } },
                { id: 'pm-kisan', title: "PM Kisan Samman Nidhi", url: "https://pmkisan.gov.in/", qualification: "N/A", eligibility: "All landholding farmer families.", fees: "N/A", state: "All India", isNew: false, tags: ['pm kisan', 'samman nidhi', 'scheme', 'farmer', 'all india', '2024'], details: { description: "A central government scheme to provide income support of ‚Çπ6,000 per year in three equal installments to all farmer families across the country." } },
            ],
            results: [
                 { id: 'bihar-stet', title: "Bihar STET 2024 Result", url: "http://bsebstet.com/", qualification: "N/A", eligibility: "Candidates who appeared for Bihar STET exam.", fees: "N/A", state: "Bihar", isNew: true, tags: ['bihar', 'stet', '2024', 'result', 'teacher'], details: { description: "Result for the Bihar Secondary Teachers Eligibility Test (STET) 2024. Candidates can check their scores and qualification status on the official website." } },
                 { id: 'upsc-final', title: "UPSC Civil Services 2024 Final Result", url: "https://upsc.gov.in/", qualification: "N/A", eligibility: "Candidates who appeared for interview.", fees: "N/A", state: "All India", isNew: true, tags: ['upsc', 'civil services', 'ias', '2024', 'final', 'result', 'all india'], details: { description: "Final result of the prestigious Civil Services Examination 2024 conducted by UPSC for recruitment to IAS, IPS, IFS and other central services." } },
            ],
            'admit-cards': [
                { id: 'bpsc-tre4', title: "BPSC Teacher (TRE 4.0) Admit Card", url: "https://bpsc.bih.nic.in/", qualification: "N/A", eligibility: "Applied candidates for TRE 4.0 exam.", fees: "N/A", state: "Bihar", isNew: true, tags: ['bpsc', 'teacher', 'tre 4.0', 'admit card', 'bihar', '2025'], details: { description: "Admit card for the 4th phase of Bihar Teacher Recruitment Examination. Candidates must download it to appear for the exam." } },
                { id: 'ssc-chsl', title: "SSC CHSL Tier 2 Admit Card", url: "https://ssc.gov.in/", qualification: "N/A", eligibility: "Candidates qualified in Tier 1.", fees: "N/A", state: "All India", isNew: true, tags: ['ssc', 'chsl', 'tier 2', 'admit card', 'all india', '2024'], details: { description: "Admit card for the Tier 2 examination of the Combined Higher Secondary Level (10+2) Examination for posts like LDC, JSA, etc." } },
            ],
            admissions: [
                { id: 'patna-uni', title: "Patna University UG Admission 2025", url: "https://www.puponline.in/", qualification: "12th Pass", eligibility: "Based on merit/entrance for various UG courses.", fees: "Varies by course", state: "Bihar", isNew: true, tags: ['patna', 'university', 'ug', 'admission', '2025', 'bihar'], details: { description: "Admission process for undergraduate courses in Arts, Science, and Commerce streams in Patna University for the academic session 2025." } },
            ],
            scholarships: [
                { id: 'bihar-pms', title: "Bihar Post Matric Scholarship (PMS) 2025-26", url: "https://pmsonline.bih.nic.in/", qualification: "Post-matriculation courses", eligibility: "SC, ST, BC, EBC students of Bihar.", fees: "N/A", state: "Bihar", isNew: true, tags: ['bihar', 'pms', 'post matric', 'scholarship', '2025', '2026'], details: { description: "Scholarship scheme by Bihar government for students of reserved categories to pursue post-matriculation education." } },
            ],
            upcoming: [
                { category: 'jobs', releaseDate: '2025-08-01', title: "Railway Group D Recruitment 2025", url: "https://www.rrbcdg.gov.in/", qualification: "10th Pass, ITI", eligibility: "Age 18-33. For various posts in Level 1.", fees: "Gen: ‚Çπ500, SC/ST/EBC/Female: ‚Çπ250", state: "All India", tags: ['railway', 'group d', 'recruitment', '2025', 'job', 'all india'] },
            ]
        };
        
        // --- HELPER & CORE FUNCTIONS ---
        const setLanguage = (lang) => {
            currentLang = lang;
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });
             document.querySelectorAll('[data-key-placeholder]').forEach(el => {
                const key = el.getAttribute('data-key-placeholder');
                if (translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });
        };

        const createItemHTML = (item, category) => {
            const isNewBadge = item.isNew ? `<span class="new-badge">NEW</span>` : '';
            const detailsHtml = item.details ? `
                <div class="details-panel">
                    <p class="mb-4 text-slate-600">${item.details.description}</p>
                    ${item.details.vacancies ? `<h3 class="detail-heading">Vacancy Details</h3><div class="detail-grid">${item.details.vacancies.map(v => `<div class="detail-item"><strong>${v.category}:</strong> ${v.posts} Posts</div>`).join('')}</div>` : ''}
                    ${item.details.physical ? `<h3 class="detail-heading">Physical Requirements</h3><div class="detail-grid">${item.details.physical.map(p => `<div class="detail-item"><strong>${p.standard}:</strong> ${p.requirement}</div>`).join('')}</div>` : ''}
                    ${item.details.dates ? `<h3 class="detail-heading">Important Dates</h3><div class="detail-grid">${item.details.dates.map(d => `<div class="detail-item"><strong>${d.event}:</strong> ${d.date}</div>`).join('')}</div>` : ''}
                    <div class="mt-6 flex flex-col sm:flex-row gap-4 justify-center">
                         <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="inline-block bg-indigo-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-indigo-700 transition"><i class="fas fa-link mr-2"></i>Official Link</a>
                         <button onclick="shareToWhatsApp('${item.title}', '${item.url}')" class="inline-block bg-green-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-600 transition"><i class="fab fa-whatsapp mr-2"></i><span data-key="share_on_whatsapp">Share on WhatsApp</span></button>
                    </div>
                </div>
            ` : '';

            return `
                <div class="link-item">
                    <div class="w-full">
                        <div class="link-item-summary">
                            <div class="flex-grow">
                                <span class="link-item-button font-bold">${item.title}</span>
                                ${item.qualification ? `<p class="text-xs text-slate-500 mt-1"><strong>Qual:</strong> ${item.qualification}</p>` : ''}
                            </div>
                            <div class="flex items-center ml-2">
                                ${isNewBadge}
                                ${item.details ? `<button onclick="toggleDetails(this)" class="ml-4 text-indigo-500 hover:text-indigo-700"><i class="fas fa-chevron-down transition-transform"></i></button>` : ''}
                            </div>
                        </div>
                        ${detailsHtml}
                    </div>
                </div>`;
        };

        window.toggleDetails = (button) => {
            const detailsPanel = button.closest('.link-item').querySelector('.details-panel');
            const icon = button.querySelector('i');
            if (detailsPanel.style.maxHeight) {
                detailsPanel.style.maxHeight = null;
                icon.style.transform = 'rotate(0deg)';
            } else {
                detailsPanel.style.maxHeight = detailsPanel.scrollHeight + "px";
                icon.style.transform = 'rotate(180deg)';
            }
        };
        
        const createHighlightItemHTML = (item, category) => {
             const isNewBadge = item.isNew ? `<span class="new-badge">NEW</span>` : '';
            return `<div class="highlight-item"><div class="flex-grow"><button onclick="toggleDetailsById('${category}', '${item.id}')" class="font-bold text-indigo-700 hover:underline text-left">${item.title}</button>${item.eligibility ? `<p class="text-xs text-slate-500 mt-1">${item.eligibility}</p>` : ''}${item.state ? `<p class="text-xs text-slate-400 mt-1"><strong>State:</strong> ${item.state}</p>` : ''}</div><div class="flex items-center ml-2">${isNewBadge}</div></div>`;
        }

        const createComingSoonItemHTML = (item) => {
            return `<div class="link-item coming-soon-item"><div class="flex-grow"><span class="font-bold text-slate-700">${item.title}</span><p class="text-xs text-slate-500 mt-1"><strong>Expected Date:</strong> ${item.releaseDate}</p>${item.qualification ? `<p class="text-xs text-slate-500 mt-1"><strong>Qual:</strong> ${item.qualification}</p>` : ''}${item.eligibility ? `<p class="text-xs text-slate-500 mt-1"><strong>Elig:</strong> ${item.eligibility}</p>` : ''}${item.state ? `<p class="text-xs text-slate-400 mt-1"><strong>State:</strong> ${item.state}</p>` : ''}</div></div>`;
        };

        const renderContent = () => {
            const selectedState = stateSelector.value;
            const searchTerm = searchInput.value.toLowerCase().trim();

            for (const [collectionName, listId] of Object.entries(sections)) {
                const listElement = document.getElementById(listId);
                const itemsForSection = allData[collectionName] || [];
                
                const filteredItems = itemsForSection.filter(item => {
                    const stateMatch = selectedState === 'All India' || item.state === 'All India' || item.state === selectedState;
                    if (!stateMatch) return false;

                    if (searchTerm) {
                        const searchString = `${item.title} ${item.qualification || ''} ${item.eligibility || ''} ${item.tags.join(' ')}`.toLowerCase();
                        return searchString.includes(searchTerm);
                    }
                    return true;
                });

                listElement.innerHTML = filteredItems.map(item => createItemHTML(item, collectionName)).join('') || `<p class="text-slate-500 text-sm p-4">${translations[currentLang].no_updates}</p>`;
                
                const noResultsMessage = listElement.nextElementSibling;
                if (noResultsMessage && noResultsMessage.classList.contains('no-results-message')) {
                    noResultsMessage.style.display = (filteredItems.length === 0 && itemsForSection.length > 0) ? 'block' : 'none';
                }
            }

            const comingSoonList = document.getElementById('coming-soon-list');
            const filteredUpcoming = allData.upcoming.filter(item => {
                const stateMatch = selectedState === 'All India' || item.state === 'All India' || item.state === selectedState;
                 if (!stateMatch) return false;

                if (searchTerm) {
                    const searchString = `${item.title} ${item.qualification || ''} ${item.eligibility || ''} ${item.tags.join(' ')}`.toLowerCase();
                    return searchString.includes(searchTerm);
                }
                return true;
            });
            comingSoonList.innerHTML = filteredUpcoming.map(item => createComingSoonItemHTML(item)).join('') || `<p class="text-slate-500 text-sm p-4">${translations[currentLang].no_updates}</p>`;
            
            const noResultsUpcoming = comingSoonList.nextElementSibling;
            if (noResultsUpcoming && noResultsUpcoming.classList.contains('no-results-message')) {
                noResultsUpcoming.style.display = (filteredUpcoming.length === 0 && allData.upcoming.length > 0) ? 'block' : 'none';
            }

            const highlightList = document.getElementById('highlight-list');
            const highlightItems = allData.highlights.map(h => {
                const item = allData[h.category]?.find(item => item.id === h.id);
                return item ? { ...item, category: h.category } : null;
            }).filter(Boolean);
            highlightList.innerHTML = highlightItems.map(item => createHighlightItemHTML(item, item.category)).join('');
        };

        const processUpdatesAndLoadData = () => {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const upcomingItems = [];
            if (allData.upcoming) {
                allData.upcoming.forEach(item => {
                    const releaseDate = new Date(item.releaseDate);
                    if (releaseDate <= today) {
                        if (allData[item.category]) {
                            allData[item.category].unshift({ ...item, isNew: true });
                        }
                    } else {
                        upcomingItems.push(item);
                    }
                });
            }
            allData.upcoming = upcomingItems;
            renderContent();
        };

        // --- Gemini API Function ---
        const checkEligibility = async () => {
            const education = userEducationInput.value;
            const age = userAgeInput.value;
            const state = userStateInput.value;

            if (!education.trim() || !age.trim() || !state.trim()) {
                alert("Please fill all fields: Education, Age, and State.");
                return;
            }

            eligibilityOutputContainer.classList.remove('hidden');
            eligibilityLoading.classList.remove('hidden');
            eligibilityOutput.classList.add('hidden');

            const jobList = allData.jobs.map(job => `- ${job.title}: Qualification is ${job.qualification}, Eligibility is ${job.eligibility}, State is ${job.state}`).join('\n');
            const prompt = `Based on the following list of jobs, tell me which ones I am likely eligible for. I am ${age} years old, my education is "${education}", and I live in ${state}. Provide a simple list of the job titles I might be eligible for and a brief one-sentence reason for each.

            **Available Jobs:**
            ${jobList}`;

            try {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = ""; // Leave as-is
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                
                if (result.candidates && result.candidates[0].content.parts[0].text) {
                    eligibilityOutput.innerText = result.candidates[0].content.parts[0].text;
                } else {
                    eligibilityOutput.innerText = translations[currentLang].error_checking_eligibility;
                }
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                eligibilityOutput.innerText = translations[currentLang].error_checking_eligibility;
            } finally {
                eligibilityLoading.classList.add('hidden');
                eligibilityOutput.classList.remove('hidden');
            }
        };

        window.shareToWhatsApp = (title, url) => {
            const text = encodeURIComponent(`Check out this update: ${title}\n\n${url}`);
            window.open(`https://api.whatsapp.com/send?text=${text}`, '_blank');
        };

        // --- MAIN APP INITIALIZATION ---
        const main = () => {
            stateSelector.innerHTML += indianStates.map(state => `<option value="${state}">${state}</option>`).join('');
            userStateInput.innerHTML = indianStates.map(state => `<option value="${state}">${state}</option>`).join('');

            languageSelector.addEventListener('change', (e) => setLanguage(e.target.value));
            stateSelector.addEventListener('change', renderContent);
            searchInput.addEventListener('input', renderContent);
            checkEligibilityBtn.addEventListener('click', checkEligibility);
            
            document.addEventListener('keydown', function (e) {
                if (e.ctrlKey && (e.key === 'c' || e.key === 'u' || e.key === 's' || e.key === 'p')) {
                    e.preventDefault();
                }
            });
            
            setLanguage('en');
            processUpdatesAndLoadData();
        };

        main();

    </script>
</body>
</html>
